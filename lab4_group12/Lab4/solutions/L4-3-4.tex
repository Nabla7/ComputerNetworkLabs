BGP uses a route selection algorithm to determine the route to take. If a preference value local to the the router is set, the route with the highest of such values is chosen. If no routes have this value set, the path with the shortest AS path length is chosen. This rules out passing through AS3. All paths that are left all have the same next-hop value. We thus forward the packet to the next-hop router, which is as1rc in our case. Since this is intra-AS routing, an IGP takes care of this.